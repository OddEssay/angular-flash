/*! angular-flash - v0.0.2 - 2014-01-25 */!function(a){"use strict";var b=function(a,b){return function(){return a.apply(b,arguments)}},c="template/flash-messages.html",d=a.module("ngFlash",["ng"]);d.provider("$flash",function(){var a=5e3;this.setDefaultDuration=function(b){a=b};var c="alert";this.setDefaultType=function(a){c=a};var d="$routeChangeSuccess";this.setRouteChangeSuccess=function(a){d=a},this.$get=["$rootScope","$timeout",function(e,f){function g(b,d){d=d||{},this.message=b,this.duration=d.duration||a,this.type=d.type||c,this.persist=d.persist}var h;return g.prototype.remove=function(){this.cancelTimeout(),h.messages.splice(h.messages.indexOf(this),1)},g.prototype.startTimeout=function(){return this.cancelTimeout(),this.timeout=f(b(this.remove,this),this.duration),this.timeout},g.prototype.cancelTimeout=function(){this.timeout&&f.cancel(this.timeout)},g.prototype.init=function(){var a=b(this.remove,this);if(this.startTimeout(),this.persist){var c=this,f=function(a,b){return function(){return--a<1?b.apply(this,arguments):(c.startTimeout(),void 0)}};e.$on(d,f(this.persist+1,a))}else e.$on(d,a);return this},h=function(a,b){var c=new g(a,b);return h.messages.push(c.init()),c},h.messages=[],h.reset=function(){h.messages.length=0},h}]}),d.directive("flashMessages",function(){return{restrict:"EA",replace:!0,scope:{},templateUrl:c,controller:["$scope","$flash",function(a,b){a.messages=b.messages}]}}),d.run(["$templateCache",function(a){a.get(c)||a.put(c,'<div class="flash-messages"><div class="flash-message {{message.type}}" ng-repeat="message in messages" ng-bind="message.message"><a href="" class="close" ng-click="message.remove()"></a></div></div>')}])}(angular);